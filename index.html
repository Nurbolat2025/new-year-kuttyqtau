<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Жаңа Жыл Саяхаты Құттықтауы</title>
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="apple-touch-icon" href="icon-192.png">

    <!-- Конфетти -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        body {
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            background: url('https://wallpaperaccess.com/full/124383.jpg') no-repeat center center fixed;
            background-size: cover;
            color: white;
            text-align: center;
            overflow: hidden;
            position: relative;
            font-family: Arial, sans-serif;
        }
        body::before {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: url('https://i.pinimg.com/originals/1f/fa/c5/1ffac5f8688570a8cbdd049c54e7a1d2.gif') no-repeat center center;
            background-size: cover;
            opacity: 0.4;
            z-index: -1;
        }
        h1 {
            font-size: 32px;
            color: #ffeb3b;
            text-shadow: 3px 3px 6px #000;
            margin-bottom: 10px;
        }
        .greeting {
            font-size: 24px;
            color: #fff;
            background: rgba(0, 0, 50, 0.7);
            padding: 25px;
            margin: 30px auto;
            max-width: 90%;
            border-radius: 20px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.6);
            text-shadow: 1px 1px 3px #000;
        }
        .time-info {
            font-size: 18px;
            color: #ffeb3b;
            margin: 10px;
            text-shadow: 1px 1px 3px #000;
        }
        button {
            background: #d32f2f;
            color: white;
            border: none;
            padding: 16px 32px;
            font-size: 20px;
            border-radius: 15px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.4);
            transition: 0.3s;
        }
        button:hover { transform: scale(1.05); }
        #nextBtn {
            background: #4caf50;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        select, input {
            padding: 12px;
            font-size: 18px;
            margin: 15px;
            border-radius: 10px;
            border: none;
            width: 80%;
            max-width: 320px;
        }
        .city { display: none; }

        /* Қар түсіру */
        .snowflake {
            position: absolute;
            color: white;
            font-size: 20px;
            pointer-events: none;
            animation: fall linear infinite, sway 2s ease-in-out infinite;
            opacity: 0.9;
        }
        @keyframes fall { to { transform: translateY(100vh); } }
        @keyframes sway { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(20px); } }
    </style>
</head>
<body>

    <h1 data-lang="kk">Жаңа Жылмен! Әлемдік Саяхат Құттықтауы 🎄✨🎉</h1>
    <h1 data-lang="ru" style="display:none;">С Новым Годом! Мировое Путешествие Поздравления 🎄✨🎉</h1>
    <h1 data-lang="en" style="display:none;">Happy New Year! World Travel Greeting 🎄✨🎉</h1>
    <h1 data-lang="ar" style="display:none;">عام سعيد! تهنئة سفر عالمية 🎄✨🎉</h1>
    <h1 data-lang="mn" style="display:none;">Шинэ оны мэнд! Дэлхийн аялалын мэндчилгээ 🎄✨🎉</h1>

    <p data-lang="kk">Атыңызды енгізіп, тілді таңдаңыз да, әлемдік саяхатты бастаңыз!</p>
    <p data-lang="ru" style="display:none;">Введите имя, выберите язык и начните мировое путешествие!</p>
    <p data-lang="en" style="display:none;">Enter your name, choose language and start the world journey!</p>
    <p data-lang="ar" style="display:none;">أدخل اسمك، اختر اللغة وبدء الرحلة العالمية!</p>
    <p data-lang="mn" style="display:none;">Нэрээ оруулна уу, хэл сонгоод дэлхийн аялалаа эхлүүл!</p>

    <select id="language" onchange="changeLanguage()">
        <option value="kk">Қазақ</option>
        <option value="ru">Русский</option>
        <option value="en">English</option>
        <option value="ar">العربية</option>
        <option value="mn">Монгол</option>
    </select>

    <form id="form">
        <label data-lang="kk">Атыңыз:</label><br>
        <input type="text" id="name" placeholder="Мысалы: Айша, Нұрлан" required><br>
        <button type="button" onclick="startJourney()">Бастау 🎉</button>
    </form>

    <div id="timeInfo" class="time-info" style="display:none;"></div>

    <div id="cities">
        <!-- 1. Алматы -->
        <div class="city" data-timezone="Asia/Almaty">
            <h2 data-lang="kk">Алматы, Қазақстан</h2>
            <h2 data-lang="ru" style="display:none;">Алматы, Казахстан</h2>
            <h2 data-lang="en" style="display:none;">Almaty, Kazakhstan</h2>
            <h2 data-lang="ar" style="display:none;">ألماتي، كازاخستان</h2>
            <h2 data-lang="mn" style="display:none;">Алматы, Казахстан</h2>
            <p class="greeting" data-lang="kk">Құрметті [name], Жаңа жыл құтты болсын! Алматыда шырша астында бақытқа толы жыл тілеймін! 🎄❤️</p>
            <p class="greeting" data-lang="ru" style="display:none;">Уважаемый [name], С Новым годом! Под елкой в Алматы желаю счастья! 🎄❤️</p>
            <p class="greeting" data-lang="en" style="display:none;">Dear [name], Happy New Year! Under the tree in Almaty, I wish you happiness! 🎄❤️</p>
            <p class="greeting" data-lang="ar" style="display:none;">عزيزي [name]، عام سعيد! تحت الشجرة في ألماتي أتمنى لك السعادة! 🎄❤️</p>
            <p class="greeting" data-lang="mn" style="display:none;">Эрхэм [name], Шинэ оны мэнд! Алматыд модны доор аз жаргалтай жил хүсье! 🎄❤️</p>
        </div>

        <!-- 2. Нью-Йорк -->
        <div class="city" data-timezone="America/New_York">
            <h2 data-lang="kk">Нью-Йорк, АҚШ</h2>
            <h2 data-lang="ru" style="display:none;">Нью-Йорк, США</h2>
            <h2 data-lang="en" style="display:none;">New York, USA</h2>
            <h2 data-lang="ar" style="display:none;">نيويورك، الولايات المتحدة</h2>
            <h2 data-lang="mn" style="display:none;">Нью-Йорк, АНУ</h2>
            <p class="greeting" data-lang="kk">Құрметті [name], Жаңа жыл құтты болсын! Таймс-Скверде шар түскенде арманыңыз орындалсын! 🎆✨</p>
            <p class="greeting" data-lang="ru" style="display:none;">Уважаемый [name], С Новым годом! Когда шар опустится на Таймс-Сквер, пусть сбудутся мечты! 🎆✨</p>
            <p class="greeting" data-lang="en" style="display:none;">Dear [name], Happy New Year! When the ball drops in Times Square, may your dreams come true! 🎆✨</p>
            <p class="greeting" data-lang="ar" style="display:none;">عزيزي [name]، عام سعيد! عندما تسقط الكرة في تايمز سكوير، تحقق أحلامك! 🎆✨</p>
            <p class="greeting" data-lang="mn" style="display:none;">Эрхэм [name], Шинэ оны мэнд! Таймс Скверд бөмбөг унахад мөрөөдөл биелнэ! 🎆✨</p>
        </div>

        <!-- 3. Токио -->
        <div class="city" data-timezone="Asia/Tokyo">
            <h2 data-lang="kk">Токио, Жапония</h2>
            <h2 data-lang="ru" style="display:none;">Токио, Япония</h2>
            <h2 data-lang="en" style="display:none;">Tokyo, Japan</h2>
            <h2 data-lang="ar" style="display:none;">طوكيو، اليابان</h2>
            <h2 data-lang="mn" style="display:none;">Токио, Япон</h2>
            <p class="greeting" data-lang="kk">Құрметті [name], Akemashite omedetou! Жаңа жылда жаңа бастамалар болсын! 🗼🎍</p>
            <p class="greeting" data-lang="ru" style="display:none;">Уважаемый [name], Акэмашитэ омэдэто! Новые начинания в Новом году! 🗼🎍</p>
            <p class="greeting" data-lang="en" style="display:none;">Dear [name], Akemashite omedetou! New beginnings in the New Year! 🗼🎍</p>
            <p class="greeting" data-lang="ar" style="display:none;">عزيزي [name]، أكيماشيتي أوميديتو! بدايات جديدة في العام الجديد! 🗼🎍</p>
            <p class="greeting" data-lang="mn" style="display:none;">Эрхэм [name], Акемашите омедето! Шинэ жилд шинэ эхлэлтэй байг! 🗼🎍</p>
        </div>

        <!-- 4. Дубай -->
        <div class="city" data-timezone="Asia/Dubai">
            <h2 data-lang="kk">Дубай, БАӘ</h2>
            <h2 data-lang="ru" style="display:none;">Дубай, ОАЭ</h2>
            <h2 data-lang="en" style="display:none;">Dubai, UAE</h2>
            <h2 data-lang="ar" style="display:none;">دبي، الإمارات</h2>
            <h2 data-lang="mn" style="display:none;">Дубай, АНЭУ</h2>
            <p class="greeting" data-lang="kk">Құрметті [name], Жаңа жыл құтты болсын! Бурдж Халифада отшашу астында бақыт тілеймін! 🏙️🎇</p>
            <p class="greeting" data-lang="ru" style="display:none;">Уважаемый [name], С Новым годом! Под фейерверком у Бурдж Халифа желаю счастья! 🏙️🎇</p>
            <p class="greeting" data-lang="en" style="display:none;">Dear [name], Happy New Year! Under the fireworks at Burj Khalifa! 🏙️🎇</p>
            <p class="greeting" data-lang="ar" style="display:none;">عزيزي [name]، عام سعيد! تحت الألعاب النارية في برج خليفة! 🏙️🎇</p>
            <p class="greeting" data-lang="mn" style="display:none;">Эрхэм [name], Шинэ оны мэнд! Бурж Халифагийн салют доор аз жаргал хүсье! 🏙️🎇</p>
        </div>

        <!-- 5. Улан-Батор -->
        <div class="city" data-timezone="Asia/Ulaanbaatar">
            <h2 data-lang="kk">Улан-Батор, Моңғолия</h2>
            <h2 data-lang="ru" style="display:none;">Улан-Батор, Монголия</h2>
            <h2 data-lang="en" style="display:none;">Ulaanbaatar, Mongolia</h2>
            <h2 data-lang="ar" style="display:none;">أولان باتور، منغوليا</h2>
            <h2 data-lang="mn" style="display:none;">Улаанбаатар, Монгол</h2>
            <p class="greeting" data-lang="kk">Құрметті [name], Шинэ оны мэнд! Далада жаңа жылды қарсы алып, денсаулық тілеймін! ❄️🏞️</p>
            <p class="greeting" data-lang="ru" style="display:none;">Уважаемый [name], С Новым годом! В степи встречайте Новый год с здоровьем! ❄️🏞️</p>
            <p class="greeting" data-lang="en" style="display:none;">Dear [name], Happy New Year! In the steppe, welcome the New Year with health! ❄️🏞️</p>
            <p class="greeting" data-lang="ar" style="display:none;">عزيزي [name]، عام سعيد! في السهوب، استقبل العام الجديد بالصحة! ❄️🏞️</p>
            <p class="greeting" data-lang="mn" style="display:none;">Эрхэм [name], Шинэ оны мэнд! Талд шинэ жилыйг эрүүл мэндээр угтъя! ❄️🏞️</p>
        </div>
    </div>

    <button onclick="nextCity()" style="display:none;" id="nextBtn" data-lang="kk">Келесі қалаға саяхат ➜ 🎉</button>
    <button onclick="nextCity()" style="display:none;" id="nextBtnRu" data-lang="ru">Следующий город ➜ 🎉</button>
    <button onclick="nextCity()" style="display:none;" id="nextBtnEn" data-lang="en">Next city ➜ 🎉</button>
    <button onclick="nextCity()" style="display:none;" id="nextBtnAr" data-lang="ar">المدينة التالية ➜ 🎉</button>
    <button onclick="nextCity()" style="display:none;" id="nextBtnMn" data-lang="mn">Дараагийн хот руу ➜ 🎉</button>

    <script>
        let currentLang = 'kk';
        let name = 'Досым';
        let currentCity = 0;
        const cities = document.querySelectorAll('.city');
        const timeInfo = document.getElementById('timeInfo');

        const nextButtons = {
            kk: document.getElementById('nextBtn'),
            ru: document.getElementById('nextBtnRu'),
            en: document.getElementById('nextBtnEn'),
            ar: document.getElementById('nextBtnAr'),
            mn: document.getElementById('nextBtnMn')
        };

        function changeLanguage() {
            currentLang = document.getElementById('language').value;
            document.querySelectorAll('[data-lang]').forEach(el => {
                el.style.display = (el.getAttribute('data-lang') === currentLang) ? 'block' : 'none';
            });
            // Түймені ауыстыру
            Object.keys(nextButtons).forEach(lang => {
                nextButtons[lang].style.display = (lang === currentLang) ? 'block' : 'none';
            });
            updateGreeting();
        }

        function startJourney() {
            const inputName = document.getElementById('name').value.trim();
            name = inputName || 'Досым';
            document.getElementById('form').style.display = 'none';
            nextCity();
            document.querySelectorAll('#nextBtn, #nextBtnRu, #nextBtnEn, #nextBtnAr, #nextBtnMn').forEach(btn => {
                btn.style.display = (btn.getAttribute('data-lang') === currentLang) ? 'block' : 'none';
            });
            timeInfo.style.display = 'block';
            confetti({ particleCount: 150, spread: 100, origin: { y: 0.6 } });
        }

        function nextCity() {
            cities.forEach(c => c.style.display = 'none');
            currentCity = (currentCity + 1) % cities.length;
            const currentCityEl = cities[currentCity];
            currentCityEl.style.display = 'block';
            updateGreeting();

            // Уақытты көрсету
            const timezone = currentCityEl.getAttribute('data-timezone');
            const now = new Date();
            const options = { timeZone: timezone, hour: '2-digit', minute: '2-digit', hour12: false };
            const formatter = new Intl.DateTimeFormat(currentLang, options);
            const timeStr = formatter.format(now);
            timeInfo.textContent = currentLang === 'kk' ? `Қазір сағат: ${timeStr}` :
                                  currentLang === 'ru' ? `Сейчас время: ${timeStr}` :
                                  currentLang === 'en' ? `Current time: ${timeStr}` :
                                  currentLang === 'ar' ? `الوقت الحالي: ${timeStr}` :
                                  `Одоогийн цаг: ${timeStr}`;

            confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
        }

        function updateGreeting() {
            document.querySelectorAll('.greeting').forEach(el => {
                if (el.style.display !== 'none') {
                    el.innerHTML = el.innerHTML.replace(/\[name\]/g, '<strong style="color:#ffeb3b;">' + name + '</strong>');
                }
            });
        }

        // Қар түсіру
        function createSnow() {
            const snow = document.createElement('div');
            snow.classList.add('snowflake');
            snow.textContent = ['❄', '❅', '❆'][Math.floor(Math.random() * 3)];
            snow.style.left = Math.random() * window.innerWidth + 'px';
            snow.style.animationDuration = Math.random() * 5 + 8 + 's';
            snow.style.fontSize = Math.random() * 10 + 15 + 'px';
            document.body.appendChild(snow);
            setTimeout(() => snow.remove(), 15000);
        }
        setInterval(createSnow, 200);
    </script>
</body>
</html>
