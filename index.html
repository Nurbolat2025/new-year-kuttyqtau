<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ะะฐาฃะฐ ะัะป ะกะฐััะฐัั าาฑัััาัะฐัั</title>
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="apple-touch-icon" href="icon-192.png">

    <!-- ะะพะฝัะตััะธ -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        body {
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            background: url('https://wallpaperaccess.com/full/124383.jpg') no-repeat center center fixed;
            background-size: cover;
            color: white;
            text-align: center;
            overflow: hidden;
            position: relative;
            font-family: Arial, sans-serif;
        }
        body::before {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: url('https://i.pinimg.com/originals/1f/fa/c5/1ffac5f8688570a8cbdd049c54e7a1d2.gif') no-repeat center center;
            background-size: cover;
            opacity: 0.4;
            z-index: -1;
        }
        h1 {
            font-size: 32px;
            color: #ffeb3b;
            text-shadow: 3px 3px 6px #000;
            margin-bottom: 10px;
        }
        .greeting {
            font-size: 24px;
            color: #fff;
            background: rgba(0, 0, 50, 0.7);
            padding: 25px;
            margin: 30px auto;
            max-width: 90%;
            border-radius: 20px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.6);
            text-shadow: 1px 1px 3px #000;
        }
        button {
            background: #d32f2f;
            color: white;
            border: none;
            padding: 16px 32px;
            font-size: 20px;
            border-radius: 15px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.4);
            transition: 0.3s;
        }
        button:hover { transform: scale(1.05); }
        #nextBtn {
            background: #4caf50;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        select, input {
            padding: 12px;
            font-size: 18px;
            margin: 15px;
            border-radius: 10px;
            border: none;
            width: 80%;
            max-width: 320px;
        }
        .city { display: none; }
        .sound-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 10px 15px;
            font-size: 18px;
            background: rgba(0,0,0,0.5);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            z-index: 10;
        }

        /* าะฐั ัาฏัััั */
        .snowflake {
            position: absolute;
            color: white;
            font-size: 20px;
            pointer-events: none;
            animation: fall linear infinite, sway 2s ease-in-out infinite;
            opacity: 0.9;
        }
        @keyframes fall { to { transform: translateY(100vh); } }
        @keyframes sway { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(20px); } }
    </style>
</head>
<body>

    <button class="sound-btn" onclick="toggleSound()" id="soundBtn">๐ ะัะฑัั าะพััะปั</button>

    <h1 data-lang="kk">ะะฐาฃะฐ ะัะปะผะตะฝ! ำะปะตะผะดัะบ ะกะฐััะฐั าาฑัััาัะฐัั ๐โจ๐</h1>
    <h1 data-lang="ru" style="display:none;">ะก ะะพะฒัะผ ะะพะดะพะผ! ะะธัะพะฒะพะต ะััะตัะตััะฒะธะต ะะพะทะดัะฐะฒะปะตะฝะธั ๐โจ๐</h1>
    <h1 data-lang="en" style="display:none;">Happy New Year! World Travel Greeting ๐โจ๐</h1>
    <h1 data-lang="ar" style="display:none;">ุนุงู ุณุนูุฏ! ุชููุฆุฉ ุณูุฑ ุนุงูููุฉ ๐โจ๐</h1>
    <h1 data-lang="mn" style="display:none;">ะจะธะฝั ะพะฝั ะผัะฝะด! ะัะปัะธะนะฝ ะฐัะปะฐะปัะฝ ะผัะฝะดัะธะปะณัั ๐โจ๐</h1>

    <p data-lang="kk">ะััาฃัะทะดั ะตะฝะณัะทัะฟ, ััะปะดั ัะฐาฃะดะฐาฃัะท ะดะฐ, ำะปะตะผะดัะบ ัะฐััะฐััั ะฑะฐััะฐาฃัะท!</p>
    <p data-lang="ru" style="display:none;">ะะฒะตะดะธัะต ะธะผั, ะฒัะฑะตัะธัะต ัะทัะบ ะธ ะฝะฐัะฝะธัะต ะผะธัะพะฒะพะต ะฟััะตัะตััะฒะธะต!</p>
    <p data-lang="en" style="display:none;">Enter your name, choose language and start the world journey!</p>
    <p data-lang="ar" style="display:none;">ุฃุฏุฎู ุงุณููุ ุงุฎุชุฑ ุงููุบุฉ ูุจุฏุก ุงูุฑุญูุฉ ุงูุนุงูููุฉ!</p>
    <p data-lang="mn" style="display:none;">ะัััั ะพัััะปะฝะฐ ัั, ััะป ัะพะฝะณะพะพะด ะดัะปัะธะนะฝ ะฐัะปะฐะปะฐะฐ ััะปาฏาฏะป!</p>

    <select id="language" onchange="changeLanguage()">
        <option value="kk">าะฐะทะฐา</option>
        <option value="ru">ะัััะบะธะน</option>
        <option value="en">English</option>
        <option value="ar">ุงูุนุฑุจูุฉ</option>
        <option value="mn">ะะพะฝะณะพะป</option>
    </select>

    <form id="form">
        <label data-lang="kk">ะััาฃัะท:</label><br>
        <input type="text" id="name" placeholder="ะััะฐะปั: ะะนัะฐ, ะาฑัะปะฐะฝ" required><br>
        <button type="button" onclick="startJourney()">ะะฐััะฐั ๐</button>
    </form>

    <div id="cities">
        <!-- 1. ะะปะผะฐัั -->
        <div class="city">
            <h2 data-lang="kk">ะะปะผะฐัั, าะฐะทะฐาััะฐะฝ</h2>
            <h2 data-lang="ru" style="display:none;">ะะปะผะฐัั, ะะฐะทะฐัััะฐะฝ</h2>
            <h2 data-lang="en" style="display:none;">Almaty, Kazakhstan</h2>
            <h2 data-lang="ar" style="display:none;">ุฃููุงุชูุ ูุงุฒุงุฎุณุชุงู</h2>
            <h2 data-lang="mn" style="display:none;">ะะปะผะฐัั, ะะฐะทะฐัััะฐะฝ</h2>
            <p class="greeting" data-lang="kk">าาฑัะผะตััั [name], ะะฐาฃะฐ ะถัะป าาฑััั ะฑะพะปััะฝ! ะะปะผะฐััะดะฐ ััััะฐ ะฐัััะฝะดะฐ ะฑะฐาััาะฐ ัะพะปั ะถัะป ััะปะตะนะผัะฝ! ๐โค๏ธ</p>
            <p class="greeting" data-lang="ru" style="display:none;">ะฃะฒะฐะถะฐะตะผัะน [name], ะก ะะพะฒัะผ ะณะพะดะพะผ! ะะพะด ะตะปะบะพะน ะฒ ะะปะผะฐัั ะถะตะปะฐั ััะฐัััั! ๐โค๏ธ</p>
            <p class="greeting" data-lang="en" style="display:none;">Dear [name], Happy New Year! Under the tree in Almaty, I wish you happiness! ๐โค๏ธ</p>
            <p class="greeting" data-lang="ar" style="display:none;">ุนุฒูุฒู [name]ุ ุนุงู ุณุนูุฏ! ุชุญุช ุงูุดุฌุฑุฉ ูู ุฃููุงุชู ุฃุชููู ูู ุงูุณุนุงุฏุฉ! ๐โค๏ธ</p>
            <p class="greeting" data-lang="mn" style="display:none;">ะญัััะผ [name], ะจะธะฝั ะพะฝั ะผัะฝะด! ะะปะผะฐััะด ะผะพะดะฝั ะดะพะพั ะฐะท ะถะฐัะณะฐะปัะฐะน ะถะธะป ัาฏััะต! ๐โค๏ธ</p>
        </div>

        <!-- 2. ะัั-ะะพัะบ -->
        <div class="city">
            <h2 data-lang="kk">ะัั-ะะพัะบ, ะาะจ</h2>
            <h2 data-lang="ru" style="display:none;">ะัั-ะะพัะบ, ะกะจะ</h2>
            <h2 data-lang="en" style="display:none;">New York, USA</h2>
            <h2 data-lang="ar" style="display:none;">ูููููุฑูุ ุงูููุงูุงุช ุงููุชุญุฏุฉ</h2>
            <h2 data-lang="mn" style="display:none;">ะัั-ะะพัะบ, ะะะฃ</h2>
            <p class="greeting" data-lang="kk">าาฑัะผะตััั [name], ะะฐาฃะฐ ะถัะป าาฑััั ะฑะพะปััะฝ! ะขะฐะนะผั-ะกะบะฒะตัะดะต ัะฐั ัาฏัะบะตะฝะดะต ะฐัะผะฐะฝัาฃัะท ะพััะฝะดะฐะปััะฝ! ๐โจ</p>
            <p class="greeting" data-lang="ru" style="display:none;">ะฃะฒะฐะถะฐะตะผัะน [name], ะก ะะพะฒัะผ ะณะพะดะพะผ! ะะพะณะดะฐ ัะฐั ะพะฟัััะธััั ะฝะฐ ะขะฐะนะผั-ะกะบะฒะตั, ะฟัััั ัะฑัะดัััั ะผะตััั! ๐โจ</p>
            <p class="greeting" data-lang="en" style="display:none;">Dear [name], Happy New Year! When the ball drops in Times Square, may your dreams come true! ๐โจ</p>
            <p class="greeting" data-lang="ar" style="display:none;">ุนุฒูุฒู [name]ุ ุนุงู ุณุนูุฏ! ุนูุฏูุง ุชุณูุท ุงููุฑุฉ ูู ุชุงููุฒ ุณูููุฑุ ุชุญูู ุฃุญูุงูู! ๐โจ</p>
            <p class="greeting" data-lang="mn" style="display:none;">ะญัััะผ [name], ะจะธะฝั ะพะฝั ะผัะฝะด! ะขะฐะนะผั ะกะบะฒะตัะด ะฑำฉะผะฑำฉะณ ัะฝะฐัะฐะด ะผำฉัำฉำฉะดำฉะป ะฑะธะตะปะฝั! ๐โจ</p>
        </div>

        <!-- 3. ะขะพะบะธะพ -->
        <div class="city">
            <h2 data-lang="kk">ะขะพะบะธะพ, ะะฐะฟะพะฝะธั</h2>
            <h2 data-lang="ru" style="display:none;">ะขะพะบะธะพ, ะฏะฟะพะฝะธั</h2>
            <h2 data-lang="en" style="display:none;">Tokyo, Japan</h2>
            <h2 data-lang="ar" style="display:none;">ุทููููุ ุงููุงุจุงู</h2>
            <h2 data-lang="mn" style="display:none;">ะขะพะบะธะพ, ะฏะฟะพะฝ</h2>
            <p class="greeting" data-lang="kk">าาฑัะผะตััั [name], Akemashite omedetou! ะะฐาฃะฐ ะถัะปะดะฐ ะถะฐาฃะฐ ะฑะฐััะฐะผะฐะปะฐั ะฑะพะปััะฝ! ๐ผ๐</p>
            <p class="greeting" data-lang="ru" style="display:none;">ะฃะฒะฐะถะฐะตะผัะน [name], ะะบัะผะฐัะธัั ะพะผัะดััะพ! ะะพะฒัะต ะฝะฐัะธะฝะฐะฝะธั ะฒ ะะพะฒะพะผ ะณะพะดั! ๐ผ๐</p>
            <p class="greeting" data-lang="en" style="display:none;">Dear [name], Akemashite omedetou! New beginnings in the New Year! ๐ผ๐</p>
            <p class="greeting" data-lang="ar" style="display:none;">ุนุฒูุฒู [name]ุ ุฃูููุงุดูุชู ุฃูููุฏูุชู! ุจุฏุงูุงุช ุฌุฏูุฏุฉ ูู ุงูุนุงู ุงูุฌุฏูุฏ! ๐ผ๐</p>
            <p class="greeting" data-lang="mn" style="display:none;">ะญัััะผ [name], ะะบะตะผะฐัะธัะต ะพะผะตะดะตัะพ! ะจะธะฝั ะถะธะปะด ัะธะฝั ััะปัะปััะน ะฑะฐะนะณ! ๐ผ๐</p>
        </div>

        <!-- 4. ะัะฑะฐะน -->
        <div class="city">
            <h2 data-lang="kk">ะัะฑะฐะน, ะะำ</h2>
            <h2 data-lang="ru" style="display:none;">ะัะฑะฐะน, ะะะญ</h2>
            <h2 data-lang="en" style="display:none;">Dubai, UAE</h2>
            <h2 data-lang="ar" style="display:none;">ุฏุจูุ ุงูุฅูุงุฑุงุช</h2>
            <h2 data-lang="mn" style="display:none;">ะัะฑะฐะน, ะะะญะฃ</h2>
            <p class="greeting" data-lang="kk">าาฑัะผะตััั [name], ะะฐาฃะฐ ะถัะป าาฑััั ะฑะพะปััะฝ! ะััะดะถ ะฅะฐะปะธัะฐะดะฐ ะพััะฐัั ะฐัััะฝะดะฐ ะฑะฐาัั ััะปะตะนะผัะฝ! ๐๏ธ๐</p>
            <p class="greeting" data-lang="ru" style="display:none;">ะฃะฒะฐะถะฐะตะผัะน [name], ะก ะะพะฒัะผ ะณะพะดะพะผ! ะะพะด ัะตะนะตัะฒะตัะบะพะผ ั ะััะดะถ ะฅะฐะปะธัะฐ ะถะตะปะฐั ััะฐัััั! ๐๏ธ๐</p>
            <p class="greeting" data-lang="en" style="display:none;">Dear [name], Happy New Year! Under the fireworks at Burj Khalifa! ๐๏ธ๐</p>
            <p class="greeting" data-lang="ar" style="display:none;">ุนุฒูุฒู [name]ุ ุนุงู ุณุนูุฏ! ุชุญุช ุงูุฃูุนุงุจ ุงููุงุฑูุฉ ูู ุจุฑุฌ ุฎูููุฉ! ๐๏ธ๐</p>
            <p class="greeting" data-lang="mn" style="display:none;">ะญัััะผ [name], ะจะธะฝั ะพะฝั ะผัะฝะด! ะััะถ ะฅะฐะปะธัะฐะณะธะนะฝ ัะฐะปัั ะดะพะพั ะฐะท ะถะฐัะณะฐะป ัาฏััะต! ๐๏ธ๐</p>
        </div>

        <!-- 5. ะฃะปะฐะฝ-ะะฐัะพั -->
        <div class="city">
            <h2 data-lang="kk">ะฃะปะฐะฝ-ะะฐัะพั, ะะพาฃาะพะปะธั</h2>
            <h2 data-lang="ru" style="display:none;">ะฃะปะฐะฝ-ะะฐัะพั, ะะพะฝะณะพะปะธั</h2>
            <h2 data-lang="en" style="display:none;">Ulaanbaatar, Mongolia</h2>
            <h2 data-lang="ar" style="display:none;">ุฃููุงู ุจุงุชูุฑุ ููุบูููุง</h2>
            <h2 data-lang="mn" style="display:none;">ะฃะปะฐะฐะฝะฑะฐะฐัะฐั, ะะพะฝะณะพะป</h2>
            <p class="greeting" data-lang="kk">าาฑัะผะตััั [name], ะจะธะฝั ะพะฝั ะผัะฝะด! ะะฐะปะฐะดะฐ ะถะฐาฃะฐ ะถัะปะดั าะฐััั ะฐะปัะฟ, ะดะตะฝัะฐัะปัา ััะปะตะนะผัะฝ! โ๏ธ๐๏ธ</p>
            <p class="greeting" data-lang="ru" style="display:none;">ะฃะฒะฐะถะฐะตะผัะน [name], ะก ะะพะฒัะผ ะณะพะดะพะผ! ะ ััะตะฟะธ ะฒัััะตัะฐะนัะต ะะพะฒัะน ะณะพะด ั ะทะดะพัะพะฒัะตะผ! โ๏ธ๐๏ธ</p>
            <p class="greeting" data-lang="en" style="display:none;">Dear [name], Happy New Year! In the steppe, welcome the New Year with health! โ๏ธ๐๏ธ</p>
            <p class="greeting" data-lang="ar" style="display:none;">ุนุฒูุฒู [name]ุ ุนุงู ุณุนูุฏ! ูู ุงูุณููุจุ ุงุณุชูุจู ุงูุนุงู ุงูุฌุฏูุฏ ุจุงูุตุญุฉ! โ๏ธ๐๏ธ</p>
            <p class="greeting" data-lang="mn" style="display:none;">ะญัััะผ [name], ะจะธะฝั ะพะฝั ะผัะฝะด! ะขะฐะปะด ัะธะฝั ะถะธะปัะนะณ ััาฏาฏะป ะผัะฝะดััั ัะณััั! โ๏ธ๐๏ธ</p>
        </div>
    </div>

    <button onclick="nextCity()" style="display:none;" id="nextBtn">ะะตะปะตัั าะฐะปะฐาะฐ ัะฐััะฐั โ ๐</button>

    <!-- ำั ััะปะณะต ะฐัะฝะฐะปาะฐะฝ ะผัะทัะบะฐ (ัะตะณัะฝ, royalty-free ััะปัะตะผะตะปะตั) -->
    <audio id="music-kk" src="https://cdn.pixabay.com/download/audio/2023/12/13/audio_8e0c7d5d8f.mp3?filename=kazakh-traditional-music-174066.mp3" loop></audio>
    <audio id="music-ru" src="https://cdn.pixabay.com/download/audio/2022/12/15/audio_6d7d8d3b8f.mp3?filename=jingle-bells-russian-131861.mp3" loop></audio>
    <audio id="music-en" src="https://cdn.pixabay.com/download/audio/2022/11/23/audio_3b3d7d3f0f.mp3?filename=jingle-bells-8-bit-14546.mp3" loop></audio>
    <audio id="music-ar" src="https://cdn.pixabay.com/download/audio/2023/01/03/audio_1d5d5e5e5f.mp3?filename=arabic-christmas-149407.mp3" loop></audio>
    <audio id="music-mn" src="https://cdn.pixabay.com/download/audio/2023/08/15/audio_5e5d5e5d5e.mp3?filename=mongolian-throat-singing-165407.mp3" loop></audio>

    <script>
        let currentLang = 'kk';
        let name = 'ะะพััะผ';
        let currentCity = 0;
        const cities = document.querySelectorAll('.city');

        // ะัะทัะบะฐ ะพะฑัะตะบััะปะตัั
        const music = {
            kk: document.getElementById('music-kk'),
            ru: document.getElementById('music-ru'),
            en: document.getElementById('music-en'),
            ar: document.getElementById('music-ar'),
            mn: document.getElementById('music-mn')
        };
        let currentMusic = music.kk;
        let soundEnabled = true;

        function toggleSound() {
            soundEnabled = !soundEnabled;
            document.getElementById('soundBtn').textContent = soundEnabled ? '๐ ะัะฑัั าะพััะปั' : '๐ ะัะฑัั ำฉััััะปั';
            if (soundEnabled) {
                currentMusic.play().catch(() => {});
            } else {
                currentMusic.pause();
            }
        }

        function changeLanguage() {
            const newLang = document.getElementById('language').value;
            if (newLang === currentLang) return;

            // ะัะบั ะผัะทัะบะฐะฝั ัะพาัะฐัั
            currentMusic.pause();
            currentMusic.currentTime = 0;

            currentLang = newLang;
            currentMusic = music[newLang];

            // ะะฐาฃะฐ ััะปะดัาฃ ะผำััะฝะดะตััะฝ ะบำฉััะตัั
            document.querySelectorAll('[data-lang]').forEach(el => {
                el.style.display = (el.getAttribute('data-lang') === currentLang) ? 'block' : 'none';
            });

            updateGreeting();

            // ะะฐาฃะฐ ะผัะทัะบะฐะฝั ะพะนะฝะฐัั (ะตะณะตั ะดัะฑัั าะพััะปั ะฑะพะปัะฐ)
            if (soundEnabled && gameStarted) {
                currentMusic.play().catch(() => {});
            }
        }

        let gameStarted = false;

        function startJourney() {
            const inputName = document.getElementById('name').value.trim();
            name = inputName || 'ะะพััะผ';
            document.getElementById('form').style.display = 'none';
            nextCity();
            document.getElementById('nextBtn').style.display = 'block';
            confetti({ particleCount: 150, spread: 100, origin: { y: 0.6 } });
            gameStarted = true;

            // ะัะทัะบะฐะฝั ะฑะฐััะฐั
            if (soundEnabled) {
                currentMusic.play().catch(() => {});
            }
        }

        function nextCity() {
            cities.forEach(c => c.style.display = 'none');
            currentCity = (currentCity + 1) % cities.length;
            cities[currentCity].style.display = 'block';
            updateGreeting();
            confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
        }

        function updateGreeting() {
            document.querySelectorAll('.greeting').forEach(el => {
                if (el.style.display !== 'none') {
                    el.innerHTML = el.innerHTML.replace(/\[name\]/g, '<strong style="color:#ffeb3b;">' + name + '</strong>');
                }
            });
        }

        // าะฐั ัาฏัััั
        function createSnow() {
            const snow = document.createElement('div');
            snow.classList.add('snowflake');
            snow.textContent = ['โ', 'โ', 'โ'][Math.floor(Math.random() * 3)];
            snow.style.left = Math.random() * window.innerWidth + 'px';
            snow.style.animationDuration = Math.random() * 5 + 8 + 's';
            snow.style.fontSize = Math.random() * 10 + 15 + 'px';
            document.body.appendChild(snow);
            setTimeout(() => snow.remove(), 15000);
        }
        setInterval(createSnow, 200);
    </script>
</body>
</html>
